{#{% extends 'layout.html.twig' %}#}
{% extends 'headerAdmin.html.twig' %}

{% block body %}
    <h2>Snake</h2>

    <canvas id="snake" width="800" height="600"></canvas>

{% endblock %}


{% block javascripts %}

<script type="text/javascript">

    var canvas;
    var context;

    var snakeX = 20;
    var snakeY = 20;

    var carX = 800;
    var carY = 20;

    window.onload = function () {
        canvas = document.getElementById('snake');
        context = canvas.getContext('2d');

        framesPerSecond = 30;

        setInterval(drawEverything, 1000/framesPerSecond);

    };


    function drawEverything() {

//        snakeX=snakeX+10;

        carX = carX - 1;

        //screen
        context.fillStyle='black';
        context.fillRect(0, 0, canvas.width, canvas.height);

        //snake
        context.fillStyle='green';
        context.fillRect(snakeX, snakeY, 20, 20);

        var min = Math.ceil(0);
        var max = Math.floor(600);

        context.fillStyle='red';
        context.fillRect(carX, Math.floor(Math.random() * (max - min + 1)) + min, 20, 20);
    }

    function drawCar(){

    }

    document.addEventListener('keydown', event => {
        if(event.keyCode == 37){
            snakeX--;
        }else if (event.keyCode == 39){
            snakeX++;
        }else if (event.keyCode == 38){
            snakeY--;
        }else if (event.keyCode == 40){
            snakeY++;
        }

    });


</script>

{% endblock %}