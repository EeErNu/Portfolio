{% extends 'layout.html.twig' %}
{% block body %}
  <h2>Snake</h2>

  {#<canvas id="snake" width="800" height="600"></canvas>#}
  <div id="bar"></div>
{% endblock %}


{% block javascripts %}


  <script type="text/javascript">
    var defData = [
      {"team": "d", "cycleTime": 1, "effort": 1, "count": 1, "priority": "low"}, {
        "team": "d",
        "cycleTime": 2,
        "effort": 2,
        "count": 5,
        "priority": "low"
      }, {"team": "d", "cycleTime": 3, "effort": 3, "count": 8, "priority": "medium"}, {
        "team": "d",
        "cycleTime": 4,
        "effort": 4,
        "count": 3,
        "priority": "high"
      }, {"team": "l", "cycleTime": 2, "effort": 1, "count": 1, "priority": "low"}, {
        "team": "l",
        "cycleTime": 3,
        "effort": 2,
        "count": 5,
        "priority": "low"
      }, {"team": "l", "cycleTime": 4, "effort": 3, "count": 8, "priority": "medium"}, {
        "team": "l",
        "cycleTime": 5,
        "effort": 4,
        "count": 3,
        "priority": "high"
      },
      {"team": "k", "cycleTime": 2, "effort": 4, "count": 1, "priority": "low"}, {
        "team": "k",
        "cycleTime": 3,
        "effort": 5,
        "count": 5,
        "priority": "low"
      }, {"team": "k", "cycleTime": 4, "effort": 6, "count": 8, "priority": "medium"}, {
        "team": "k",
        "cycleTime": 5,
        "effort": 8,
        "count": 3,
        "priority": "high"
      }];
    var chart = new Taucharts.Chart({
      data: defData,
      type: 'bar',
      x: 'team',
      y: 'effort'
    });
  </script>


  {#<script type="text/javascript">#}

    {#var canvas;#}
    {#var context;#}

    {#var snakeX = 20;#}
    {#var snakeY = 20;#}

    {#var carX = 800;#}
    {#var carY = 20;#}

    {#window.onload = function () {#}
      {#canvas = document.getElementById('snake');#}
      {#context = canvas.getContext('2d');#}

      {#framesPerSecond = 30;#}

      {#setInterval(drawEverything, 1000 / framesPerSecond);#}

    {#}#}


    {#function drawEverything() {#}

{#//        snakeX=snakeX+10;#}

      {#carX = carX - 1;#}

      {#//screen#}
      {#context.fillStyle = 'black';#}
      {#context.fillRect(0, 0, canvas.width, canvas.height);#}

      {#//snake#}
      {#context.fillStyle = 'green';#}
      {#context.fillRect(snakeX, snakeY, 20, 20);#}

      {#var min = Math.ceil(0);#}
      {#var max = Math.floor(600);#}

      {#context.fillStyle = 'red';#}
      {#context.fillRect(carX, Math.floor(Math.random() * (max - min + 1)) + min, 20, 20);#}
    {#}#}

    {#function drawCar() {#}

    {#}#}

    {#document.addEventListener('keydown', event => {#}
      {#if (event.keyCode == 37) {#}
        {#snakeX--;#}
      {#} else if (event.keyCode == 39) {#}
        {#snakeX++;#}
      {#} else if (event.keyCode == 38) {#}
        {#snakeY--;#}
      {#} else if (event.keyCode == 40) {#}
        {#snakeY++;#}
      {#}#}

    {#});#}


  {#</script>#}

{% endblock %}